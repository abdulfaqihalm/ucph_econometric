<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Abdullah Faqih Al Mubarok">

<title>assignment3</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="assignment3_files/libs/clipboard/clipboard.min.js"></script>
<script src="assignment3_files/libs/quarto-html/quarto.js"></script>
<script src="assignment3_files/libs/quarto-html/popper.min.js"></script>
<script src="assignment3_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="assignment3_files/libs/quarto-html/anchor.min.js"></script>
<link href="assignment3_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="assignment3_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="assignment3_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="assignment3_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="assignment3_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">assignment3</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Abdullah Faqih Al Mubarok </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<p>Today’s exercises are based on Chapter 3 in Wooldridge (2018). Feel free to post questions either by <a href="mailto:cep@ifro.ku.dk">mail</a> or the discussion forum <a href="https://ucph.padlet.org/carlemilpless/questions-ehvgql4yj517uhb3">here</a>. I will monitor both during the day and will be available for questions.</p>
<p>Unless stated otherwise, the primary source of data we will be using is from the <code>wooldridge</code> package. Remember, you can access them directly in <code>R</code> with the following code:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(wooldridge)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<blockquote class="blockquote">
<p>As long as you have installed the <code>wooldridge</code> package using the <code>install.packages()</code> command.</p>
</blockquote>
<p>Furthermore, it may be useful to call forth a description of the data set by running the following:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>sleep_data <span class="ot">=</span> sleep75</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>law_salary_data <span class="ot">=</span> lawsch85</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>bwgs_data <span class="ot">=</span> bwght</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="problem-3.1" class="level2">
<h2 class="anchored" data-anchor-id="problem-3.1">Problem 3.1</h2>
<p>The following model is a simplified version of the multiple regression model used by Biddle and Hamermesh (1990) to study the tradeoff between time spent sleeping and working and to look at other factors affecting sleep:</p>
<p><span class="math display">\[ sleep = \beta_0 + \beta_1 totwrk + \beta_2 educ + \beta_3 age + u,\]</span></p>
<p>where <span class="math inline">\(sleep\)</span> and <span class="math inline">\(totwrk\)</span> (total work) are measured in minutes per week and <span class="math inline">\(age\)</span> and <span class="math inline">\(educ\)</span> are measured in years.</p>
<ol type="1">
<li><p>If adults trade off sleep for work, what is the sign of <span class="math inline">\(\beta_1\)</span>?</p>
<p>it will be minus.</p></li>
<li><p>What signs do you think <span class="math inline">\(\beta_2\)</span> and <span class="math inline">\(\beta_3\)</span> will have?<br>
For the age it will be positive since the older you are the more time of sleep you need. Meanwhile, for the education, it might be minus since the lesser</p></li>
<li><p>Using the data in <code>sleep75</code>, the estimated equation is <span class="math display">\[\begin{align} \widehat{sleep} &amp;= 3,638.25 - .148 totwrk -11.3 educ + 2.20 age \\
n &amp;= 706, R^2 = .113
\end{align}\]</span> If someone works five more hours per week, by how many minutes is <span class="math inline">\(sleep\)</span> predicted to decrease? Is this a large tradeoff?</p></li>
<li><p>Discuss the sign and magnitude of the estimated coefficient on <span class="math inline">\(educ\)</span>.</p></li>
<li><p>Would you say <span class="math inline">\(totwrk\)</span>, <span class="math inline">\(educ\)</span>, and <span class="math inline">\(age\)</span> explain much of the variation in sleep? What other factors might affect the time spent sleeping? Are these likely to be correlated with <span class="math inline">\(totwrk\)</span>?</p></li>
</ol>
</section>
<section id="problem-3.2" class="level2">
<h2 class="anchored" data-anchor-id="problem-3.2">Problem 3.2</h2>
<p>The median starting salary for new law school graduates is determined by</p>
<span class="math display">\[\begin{align}
    \log(salary) = \beta_0 + \beta_1 LSAT + \beta_2 GPA + \beta_3 \log(libvol) + \beta_4 \log(cost) + \beta_5 rank + u,
\end{align}\]</span>
<p>where <span class="math inline">\(LSAT\)</span> is the median <span class="math inline">\(LSAT\)</span> score for the graduating class, <span class="math inline">\(GPA\)</span> is the median college <span class="math inline">\(GPA\)</span> for the class, <span class="math inline">\(libvol\)</span> is the number of volumes in the law school library, <span class="math inline">\(cost\)</span> is the annual cost of attending law school, and <span class="math inline">\(rank\)</span> is a law school ranking (with <span class="math inline">\(rank = 1\)</span> being the best).</p>
<ol type="1">
<li><p>Explain why we would expect <span class="math inline">\(\beta_5 &lt; 0\)</span>.</p></li>
<li><p>What signs do you expect for the other slope parameters? Justify your answers.</p></li>
<li><p>Using the data in <code>lawsch85</code>, the estimated equation becomes <span class="math display">\[\begin{align}
\widehat{\log(salary)} &amp;= 8.34 + .0047 LSAT + .248 GPA + .095 \log(libvol) \\
                    &amp;+.038 \log(cost) -.0033 rank \\
                    n&amp;=136, R^2 = .842
\end{align}\]</span> What is the predicted <em>ceteris paribus</em> difference in salary for schools with a median <span class="math inline">\(GPA\)</span> difference by one point?</p></li>
<li><p>Interpret the coefficient on the variable <span class="math inline">\(\log(libvol)\)</span>.</p></li>
<li><p>Would you say it is better to attend a higher-ranked law school? How much is the difference in ranking of 20 worth in terms of predicted starting salary?</p></li>
</ol>
</section>
<section id="supplementary-material-3.1-deriving-the-ols-estimator" class="level2">
<h2 class="anchored" data-anchor-id="supplementary-material-3.1-deriving-the-ols-estimator">Supplementary material 3.1: Deriving the OLS estimator</h2>
<p>The following videos use a linear algebra version of the ordinary least squares (OLS) estimation procedure. In further econometrics courses, this is a common representation you will encounter. If you remember your matrix multiplication rules, it is a more elegant solution than the <span class="math inline">\(k\)</span> equations with <span class="math inline">\(k\)</span> unknowns presented in section 3.2f of Wooldridge (2018).</p>
</section>
<section id="problem-3.3" class="level2">
<h2 class="anchored" data-anchor-id="problem-3.3">Problem 3.3</h2>
<p>For this exercise, you will need to use the data set <code>bwght</code>. A problem of interest to health officials (and others) is determining the effects of smoking during pregnancy on infant health. One measure of infant health is birth weight; a birth weight that is too low can put an infant at risk of contracting various illnesses.</p>
<p>Since factors other than cigarette smoking that affect birth weight are likely to be correlated with smoking, we should consider those factors. For example, higher income generally results in access to better prenatal care and better nutrition for the mother. An equation that recognizes this is:</p>
<span class="math display">\[\begin{align}
bwght = \beta_0 + \beta_1 cigs + \beta_2 faminc + u,
\end{align}\]</span>
<p>where <span class="math inline">\(faminc\)</span> is family income.</p>
<ol type="1">
<li><p>What is the most likely sign of <span class="math inline">\(\beta_2\)</span>?</p></li>
<li><p>Do you think <span class="math inline">\(cigs\)</span> and <span class="math inline">\(faminc\)</span> are likely to be correlated? Explain why the correlation might be positive or negative.</p></li>
<li><p>Now, estimate the equation with and without <span class="math inline">\(faminc\)</span>, using the data in <code>bwght</code> (the data set we also used yesterday). Report the results in equation form, including the sample size and <span class="math inline">\(R^2\)</span>. Discuss your results, focusing on whether adding <span class="math inline">\(faminc\)</span> substantially changes the estimated effect of <span class="math inline">\(cigs\)</span> on <span class="math inline">\(bwght\)</span>.</p></li>
</ol>
</section>
<section id="problem-3.4" class="level2">
<h2 class="anchored" data-anchor-id="problem-3.4">Problem 3.4</h2>
<p>Use the data in <code>hprice1</code> to estimate the model:</p>
<span class="math display">\[\begin{align}
price = \beta_0 + \beta_1 sqrft + \beta_2 bdrms + u,
\end{align}\]</span>
<p>where price is the price of the house measured in thousands of dollars.</p>
<ol type="1">
<li><p>Estimate the equation and write out the results in equation form.</p></li>
<li><p>What is the estimated increase in price for a house with one more bedroom, holding square footage constant?</p></li>
<li><p>What is the estimated increase in price for a house with an additional bedroom that is 140 square feet in size? Compare this to your answer in part 2.</p></li>
<li><p>What percentage of the variation in price is explained by square footage and number of bedrooms?</p></li>
<li><p>The first house in the sample has <span class="math inline">\(sqrft = 2,438\)</span> and <span class="math inline">\(bdrms = 4\)</span>. Find the predicted selling price for this house from the OLS regression line.</p></li>
</ol>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>Try taking a look at the <code>predict()</code> function.</p>
</div>
</div>
<ol start="6" type="1">
<li>The actual selling price of the <strong>first</strong> house in the sample was <span class="math inline">\(300,000\)</span> (so <span class="math inline">\(price = 300\)</span>). Find the residual for this house. Does it suggest that the buyer underpaid or overpaid for the house?</li>
</ol>
</section>
<section id="problem-3.5" class="level2">
<h2 class="anchored" data-anchor-id="problem-3.5">Problem 3.5</h2>
<p>Use the data set in <code>wage2</code> for this problem. As usual, be sure all of the following regressions contain an intercept.</p>
<ol type="1">
<li><p>Run a simple regression of <span class="math inline">\(IQ\)</span> on <span class="math inline">\(educ\)</span> to obtain the slope coefficient, say <span class="math inline">\(\widehat{\delta}_1\)</span></p></li>
<li><p>Run the simple regression of <span class="math inline">\(\log(wage)\)</span> on <span class="math inline">\(educ\)</span>, and obtain the slope coefficient, <span class="math inline">\(\tilde{\beta}_1\)</span>.</p></li>
<li><p>Run the multiple regression of <span class="math inline">\(\log(wage)\)</span> on <span class="math inline">\(educ\)</span> and <span class="math inline">\(IQ\)</span> to obtain the slope coefficients <span class="math inline">\(\widehat{\beta}_1\)</span> and <span class="math inline">\(\widehat{\beta}_2\)</span>, respectively.</p></li>
<li><p>Show that <span class="math inline">\(\tilde{\beta}_1 = \widehat{\beta}_1 + \widehat{\beta}_2 \widehat{\delta}_1\)</span>. Explain your result.</p></li>
</ol>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>